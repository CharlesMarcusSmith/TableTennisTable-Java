name: Continous Intergration
on: [push]
jobs:
  build:
    name: Build and test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build Test
        run: docker build --target test --tag table-tennis-table:testing .
      - name: Running Test Build
        run: docker run table-tennis-table:testing
      - name: Build Prod
        run: docker build --target prod --tag table-tennis-table:production .